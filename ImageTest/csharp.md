## 需求列表

* 显示图像  
* 支持的图像格式：暂定使用Windows解码的格式：JPG、PNG、TIF（考虑使用第三方库以支持Adobe扩展）。使用第三方库支持WEBP、HEIF、AVIF格式，使用第三方BMP库支持带透明度通道的BMP图像（Windows不支持BMP中的透明度信息）。  
* 自动嗅探文件格式，不要求文件实际格式和扩展名相匹配。
* 使用无边框界面，尽可能大地显示图片（隐藏窗口边框后，需要自行编写窗口移动、大小调整操作的代码）。  
* 支持切换浏览同目录下所有支持格式的图像（图像检索选项：简单通过扩展名判断；或读取所有文件，嗅探文件头）  
* 显示图像元数据（图像文件大小，尺寸，位深度，图像模式，有/无损，有损压缩质量（JPEG、WEBP有相关功能）；显示图像中嵌入的ICC（色彩特性信息）、EXIF（相机属性、拍摄数据信息）等。（信息获取考虑使用库https://github.com/drewnoakes/metadata-extractor-dotnet）  
* 信息、各类按钮均使用hover悬浮显示  
* 修改背景颜色/带透明度图片背景样式（网格/颜色/透明（使用窗口背景色））  
* 支持图像缩放，旋转，翻转操作（图像缩放提供多种缩放算法，允许用户在不同缩放比例选择不同缩放算法）（即程序将自行计算变换，输出恰好符合大小的图像，不使用Windows绘图程序提供的缩放功能。  
* 图像放大至超出窗口时显示缩略图位置导航（可选隐藏），此时鼠标拖拽可移动图像可视范围。  

## 控制操作详述

* 窗口移动（拖拽窗口顶部移动窗口，视觉提示？）、调整大小（窗口边缘，自定义鼠标样式）、最大化/还原（双击窗口顶部，键盘快捷键）、最小化（考虑省略）、关闭（快捷键，按钮？）。  
* 图像切换（键盘快捷键，画面两侧箭头？）、图像缩放（鼠标滚轮，快捷键，Shift精细缩放，Alt快速缩放（或可自定义？））、图像移动（鼠标拖拽、快捷键）、显示/隐藏各悬浮窗（按钮、快捷键、设置窗口）。  
* 图像效果（旋转、翻转、反色？）  
* 删除文件（快捷键，按钮？，可选确认，回收站/永久）  
* 界面右键菜单（所有功能）  
* 设置窗口（所有可持久性设置，设置存储与读取功能）  

## 额外功能

注：可选实现

* 图像处理自行使用C++编写实现并提供调用/使用已有第三方库处理（考虑使用库https://github.com/SixLabors/ImageSharp ）（自行实现：扩展性强，可从其他项目获取效果优秀的算法，但工作量大 ； 使用库：工作量较小，简单，存在限制，底层数据可访问/底层数据结构？（若仅有逐像素获取API则严重影响性能），无法保留高精度颜色数据（可能存在其他可以保持的库？））  
* 图像放大倍率极大时自动剪切源图像，仅放大视野内的小部分，（节省性能，需要复杂位置计算、需要实现预加载）  
* 动画支持（+GIF格式支持），WEBP动画、APNG动画、HEIF图像序列、AVIF图像序列等 （须研究动画呈现实现方式）（动画显示方式：尽快显示下一帧/首先处理完毕所有帧然后呈现）（支持手动控制的动画指示器，逐帧/自动播放）  
* 预读功能（1. 针对无时间控制的heif/avif图像序列，预读取后续帧；2. 预读取用户将要浏览的下一个文件（触发方式：自动/用户触发第一次翻页后/其他？）（预读图片量：内存限制？图像数量限制（简单数量控制/根据用户翻页速度计算）？多线程预读取？）  
* 根据内嵌颜色配置校正图像颜色？（ICC配置文件、color primaries, transfer, and matrix coefficients等）（使用自行实现的YUV->RGB转换？）（也即HDR图像支持）  
* Windows原生支持：为扩展格式提供文件资源管理器缩略图支持；注册为图像浏览器，支持设为默认应用  
* 完全使用自行实现的色彩空间转换，使用库获取原始格式颜色（低优先级，工作量大，需查阅大量文档）  
